#### Documentation Referenced:

https://docs.cilium.io/en/latest/security/policy/index.html

#### Create 2 Pods for Testing
```sh
kubectl run nginx --image=nginx

kubectl run curl --image=alpine/curl -- sleep 36000
```

#### Create Cilium Network Policy
```sh
nano cnp-l4.yaml
```
```sh
apiVersion: "cilium.io/v2"
kind: CiliumNetworkPolicy
metadata:
  name: allow-external-80
spec:
  endpointSelector:
    matchLabels:
      run: curl
  egress:
    - toPorts:
      - ports:
        - port: "80"
          protocol: TCP
```

Test the Setup 

```sh
kubectl get pods -o wide

kubectl exec -it curl-pod -- sh

curl <NGINX-POD-IP>

ping google.com

curl google.com
```

#### Delete the Resources Created for this Lab
```sh
kubectl delete -f cnp-l4.yaml

kubectl delelte pods --all
```